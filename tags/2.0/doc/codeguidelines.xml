<?xml version="1.0" encoding="utf-8" ?> 
<?xml-stylesheet type="text/xsl" href="doc.xsl"?>

<doc title="Code guidelines">
    <section header="Naming guidelines">
        <p>We shall mostly follow the Microsoft .NET class library naming guidelines at 
        <link url="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpgenref/html/cpconnamingguidelines.asp">
        http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpgenref/html/cpconnamingguidelines.asp</link>. Summarized:</p>
        
        <section header="General">
            <list>
                <item>Hungarian notation, eg <inlinecode>lpszFooBar</inlinecode> is not permitted</item>
                <item>Underscores shall not be used</item>
            </list>
        </section>
        
        <section header="Classes">
            <list>
                <item>Class names shall use Pascal case, like this: 
                    <code>public class FooBar{...}</code>
                </item>
                <item>The underscore character shall not be used</item>
                <item>The letter C as a prefix to denote a class shall not be used</item>
            </list>
        </section>
        
        <section header="Interfaces">
            <list>
                <item>Interface names shall use Pascal Case</item>
                <item>The name of an interface starts with the letter I</item>
                <item>The underscore character shall not be used</item>
            </list>
        </section> 
        <section header="Methods">
            <list>
                <item>Methods shall be named using Pascal Case</item>
            </list>
        </section> 
        
        <section header="Properties">
            <list>
                <item>Properties shall be named using Pascal Case</item>
                
                <item>It is permitted, and in some cases recommended, to name a property the same
                as the underlying type:
                    <code>public Color Color
{
    get{ return this.color; }
}
                    </code>
                </item>
            </list>
        </section>          
        
        <section header="Attributes">
            <list>
                <item>Attributes we write shall be named with <inlinecode>Attribute</inlinecode> 
                    suffix added, as in <inlinecode>FooBarAttribute</inlinecode>.
                </item>
                <item>We shall <i>not</i> use the <inlinecode>Attribute</inlinecode> suffix when 
                <b>applying</b> an attribute(in C# this suffix ix optional):
<code>
//yes
[FooBar]
public void Foo()
{...}

//no
[FooBarAttribute]
public void Foo()
{...}
</code>
                </item>
            </list>
        </section>
        
        <section header="Method parameters">
            <list>
                <item>Parameters shall be named in camelCase</item>
            </list>
        </section>
        
        <section header="Fields">
            <list>
                <item>Private fields shall be named using camel case</item>                    
            </list>                  
        </section>            
        
    </section> <!-- naming guidelines -->
    
    <section header="Formatting">
        <list>
            <item>Tab characters shall not be used for indentation.</item>
            <item>Each nested block shall be indented 4 spaces relative to the enclosing block</item>
            <item>The 'normal' indentation style shall be used:
<code>
//yes
public void FooBar()
{
    //...
}

//no
public void FooBar(){
    //...
}

//no
public void FooBar()
    {
    //...
    }

//no
public void FooBar()
    {
        //...
    }      

</code>
            </item>
            <item>All use of member fields shall be prefixed with <inlinecode>this.</inlinecode>:
<code>
public class Foo
{
    //...
        
    public void Bar()
    {
        this.baz = 42; //yes
        baz = 13; //no
    }

    private int baz;
}
</code>         </item>
            <item>Members of a class shall be ordered according to their protection level, 
            in the following order from the top:
                <list>
                    <item>public member methods</item>
                    <item>public properties</item>
                    <item>public fields(should be avoided as a general rule)</item>
                    <item>protected member methods</item>
                    <item>protected properties</item>
                    <item>protected fields(should be avoided)</item>
                    <item>private member methods</item>
                    <item>private properties</item>
                    <item>private fields</item>
                </list>
            </item>
        </list>
    </section> <!-- formatting -->
    
    <section header="Comments">
        <section header="General">
            <p>Don't comment just to comment. Comments must always add information that you cannot get from
            reading the code alone. Atrocities such as the following must be avoided at all cost:</p>
            <code>// increase counter by 1
counter++;</code>
            
            <p>Well chosen variable and method names can usually eliminate 
            a lot of comments. Prefer short methods with a single purpose and a descriptive name. 
            Whenever you feel the need to comment a block of code, consider whether the
            block could be factored out into a separate method instead. 
            If code seems to require a lot of comments to be understandable, rewrite it. The need for 
            excessive commenting is often a <link url="http://c2.com/cgi/wiki?CodeSmell">code smell</link>.</p>
            
            <p>In general, avoid end-of-line comments unless absolutely necessary. The only exception is when
            you are making a method/function call that takes a large number of arguments. In this case it 
            is acceptable to put each argument on a separate line and adding a comment describing the 
            parameter at the end of the line. Of course, most of our own method calls should take few 
            parameters.</p>
        </section>
        <section header="XML documentation comments">
            <p>All classes and methods that are part of a public API <i>must</i> have an extensive
            documentation comment. Always keep in mind that these comments will be used to generate
            documentation and write them accordingly. This means documenting <i>every</i> parameter, 
            the return value and potential exceptions that are thrown by the method, as well as providing a 
            verbose summary.</p>
            <p>For entities that are not a part of a public API(protected/private methods, classes for
            internal use etc...) the requirements are a little less stringent. You should still in general write 
            documentation comments, but since they will not be a part of the API documentation they don't have
            to be quite as formal. Always provide enough information so that others can discern what a method does
            and what it's parameters are for. 
            </p>
        </section>
    </section>
        
</doc>
