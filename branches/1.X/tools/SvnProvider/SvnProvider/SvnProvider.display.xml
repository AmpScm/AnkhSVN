<?xml version="1.0" encoding="utf-8" ?> 
<Configuration>
    <!-- ################ VIEW DEFINITIONS ################ -->
    <ViewDefinitions>
<!--  TABLES -->
        <View>
            <Name>NSvn.Core.DirectoryEntry</Name>
            <ViewSelectedBy>
                <TypeName>NSvn.Core.DirectoryEntry</TypeName>
            </ViewSelectedBy>

            <TableControl>
                <TableHeaders>
                    <TableColumnHeader>
                        <Label>T</Label>
                        <Width>1</Width>
                    </TableColumnHeader>
                    <TableColumnHeader>
                        <Label>Name</Label>
                    </TableColumnHeader>
                    <TableColumnHeader>
                        <Label>Last author</Label>
                        <Alignment>Right</Alignment>
                        <Width>20</Width>
                    </TableColumnHeader>
                    <TableColumnHeader>
                        <Label>CR</Label>
                        <Alignment>Right</Alignment>
                        <Width>5</Width>
                    </TableColumnHeader>
                    <TableColumnHeader>
                        <Label>Last change</Label>
                        <Width>20</Width>
                    </TableColumnHeader>
                    <TableColumnHeader>
                        <Label>Size</Label>
                        <Width>8</Width>
                    </TableColumnHeader>
                </TableHeaders>
                <TableRowEntries>
                    <TableRowEntry>
                        <TableColumnItems>
                            <TableColumnItem>
                                <PropertyName>Type</PropertyName>
                            </TableColumnItem>
                            <TableColumnItem>
                                <PropertyName>Name</PropertyName>
                            </TableColumnItem>
                            <TableColumnItem>
                                <PropertyName>LastAuthor</PropertyName>
                            </TableColumnItem>
                            <TableColumnItem>
                                <PropertyName>CreatedRevision</PropertyName>
                            </TableColumnItem>
                            <TableColumnItem>
                                <ScriptBlock>
                                if ( [System.DateTime].Get_Now().Subtract($_.Time).TotalDays -ge 365 )
                                { $_.Time.ToString("MMM dd  yyyy") }
                                else { $_.Time.ToString("MMM dd HH:mm") }
                                </ScriptBlock>
                            </TableColumnItem>
                            <TableColumnItem>
                                <ScriptBlock>
                                
$len = $_.Size
if ($len -eq 0 )
{
    ''
}
else
{
    if ($len -lt 10k) 
    { 
        $suffix = ' '
    }
    else 
    { 
        # convert to kilobytes
        
        $len = ($len + 1k) / 1k
        $suffix = "K"
    }
    
    $len.ToString('N').TrimEnd("0").TrimEnd(".") + $suffix 
}
                                </ScriptBlock>
                            </TableColumnItem>
                        </TableColumnItems>
                    </TableRowEntry>
                 </TableRowEntries>
            </TableControl>
        </View>
    </ViewDefinitions>
</Configuration>